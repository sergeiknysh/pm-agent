FROM node:22-bookworm

WORKDIR /app

# Speed up installs in container
COPY package.json package-lock.json ./
RUN npm ci

# Copy the rest (for image completeness; in dev compose we bind-mount anyway)
COPY . ./

EXPOSE 8787

CMD ["node", "dist/src/server.js"]
